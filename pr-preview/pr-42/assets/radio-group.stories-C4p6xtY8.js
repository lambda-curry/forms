import{j as r}from"./jsx-runtime-CQsLhzk5.js";import{d as T,P as j,n as D,l as Z,m as ee,e as re,f as oe,h as te,b as ae,k as se,z as G,w as ie,u as ne,a as de,R as ce,F as le,B as ue,g as pe,t as A}from"./remix-stub-UXp-yz1T.js";import{r as c}from"./index-Wp2u197Z.js";import{c as B,b as g,d as me,a as fe}from"./index-BFTZjNjp.js";import{c as q,u as Re,R as xe,I as he,C as ve}from"./index-Btz1yD2k.js";import{u as be}from"./index-C5ITVP_u.js";import{P as ye}from"./index-wUI45oDg.js";import{u as C,e as w}from"./index-BvTlRpDL.js";import"./index-BB6wrN1E.js";import"./createLucideIcon-CkelgiAd.js";import"./index-s2cgieDi.js";var F="Radio",[ge,V]=B(F),[je,Ce]=ge(F),M=c.forwardRef((e,o)=>{const{__scopeRadio:t,name:i,checked:s=!1,required:a,disabled:n,value:p="on",onCheck:d,form:l,...x}=e,[m,f]=c.useState(null),u=T(o,v=>f(v)),R=c.useRef(!1),h=m?l||!!m.closest("form"):!0;return r.jsxs(je,{scope:t,checked:s,disabled:n,children:[r.jsx(j.button,{type:"button",role:"radio","aria-checked":s,"data-state":K(s),"data-disabled":n?"":void 0,disabled:n,value:p,...x,ref:u,onClick:g(e.onClick,v=>{s||d==null||d(),h&&(R.current=v.isPropagationStopped(),R.current||v.stopPropagation())})}),h&&r.jsx(we,{control:m,bubbles:!R.current,name:i,value:p,checked:s,required:a,disabled:n,form:l,style:{transform:"translateX(-100%)"}})]})});M.displayName=F;var O="RadioIndicator",L=c.forwardRef((e,o)=>{const{__scopeRadio:t,forceMount:i,...s}=e,a=Ce(O,t);return r.jsx(ye,{present:i||a.checked,children:r.jsx(j.span,{"data-state":K(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:o})})});L.displayName=O;var we=e=>{const{control:o,checked:t,bubbles:i=!0,...s}=e,a=c.useRef(null),n=be(t),p=me(o);return c.useEffect(()=>{const d=a.current,l=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(l,"checked").set;if(n!==t&&m){const f=new Event("click",{bubbles:i});m.call(d,t),d.dispatchEvent(f)}},[n,t,i]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:a,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function K(e){return e?"checked":"unchecked"}var Fe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S="RadioGroup",[Se,Ye]=B(S,[q,V]),z=q(),H=V(),[Ne,Ie]=Se(S),U=c.forwardRef((e,o)=>{const{__scopeRadioGroup:t,name:i,defaultValue:s,value:a,required:n=!1,disabled:p=!1,orientation:d,dir:l,loop:x=!0,onValueChange:m,...f}=e,u=z(t),R=Re(l),[h,v]=fe({prop:a,defaultProp:s,onChange:m});return r.jsx(Ne,{scope:t,name:i,required:n,disabled:p,value:h,onValueChange:v,children:r.jsx(xe,{asChild:!0,...u,orientation:d,dir:R,loop:x,children:r.jsx(j.div,{role:"radiogroup","aria-required":n,"aria-orientation":d,"data-disabled":p?"":void 0,dir:R,...f,ref:o})})})});U.displayName=S;var Y="RadioGroupItem",$=c.forwardRef((e,o)=>{const{__scopeRadioGroup:t,disabled:i,...s}=e,a=Ie(Y,t),n=a.disabled||i,p=z(t),d=H(t),l=c.useRef(null),x=T(o,l),m=a.value===s.value,f=c.useRef(!1);return c.useEffect(()=>{const u=h=>{Fe.includes(h.key)&&(f.current=!0)},R=()=>f.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",R),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",R)}},[]),r.jsx(he,{asChild:!0,...p,focusable:!n,active:m,children:r.jsx(M,{disabled:n,required:a.required,checked:m,...d,...s,name:a.name,ref:x,onCheck:()=>a.onValueChange(s.value),onKeyDown:g(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:g(s.onFocus,()=>{var u;f.current&&((u=l.current)==null||u.click())})})})});$.displayName=Y;var ke="RadioGroupIndicator",W=c.forwardRef((e,o)=>{const{__scopeRadioGroup:t,...i}=e,s=H(t);return r.jsx(L,{...s,...i,ref:o})});W.displayName=ke;var X=U,J=$,Ge=W;const N=c.forwardRef(({className:e,...o},t)=>r.jsx(X,{className:D("grid gap-2",e),...o,ref:t}));N.displayName=X.displayName;const b=c.forwardRef(({className:e,indicator:o,...t},i)=>r.jsx(J,{ref:i,className:D("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Ge,{className:"flex items-center justify-center",children:o||r.jsx(ve,{className:"h-2.5 w-2.5 fill-current text-current"})})}));b.displayName=J.displayName;N.__docgenInfo={description:"",methods:[]};b.__docgenInfo={description:"",methods:[],props:{indicator:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const I=c.forwardRef(({control:e,name:o,label:t,description:i,className:s,components:a,...n},p)=>r.jsx(Z,{control:e,name:o,render:({field:d,fieldState:l})=>r.jsxs(ee,{className:s,ref:p,children:[t&&r.jsx(re,{Component:a==null?void 0:a.FormLabel,children:t}),r.jsx(oe,{Component:a==null?void 0:a.FormControl,children:r.jsx(N,{ref:d.ref,onValueChange:d.onChange,defaultValue:d.value,...n})}),i&&r.jsx(te,{Component:a==null?void 0:a.FormDescription,children:i}),l.error&&r.jsx(ae,{Component:a==null?void 0:a.FormMessage,children:l.error.message})]})}));I.displayName="RadioGroupField";I.__docgenInfo={description:"",methods:[],displayName:"RadioGroupField",props:{control:{required:!1,tsType:{name:"Control",elements:[{name:"TFieldValues"}],raw:"Control<TFieldValues>"},description:""},name:{required:!0,tsType:{name:"TName"},description:""},label:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},components:{required:!1,tsType:{name:"Partial",elements:[{name:"FieldComponents"}],raw:"Partial<FieldComponents>"},description:""}},composes:["Omit"]};function k(e){const{control:o}=se();return r.jsx(I,{control:o,...e})}k.__docgenInfo={description:"",methods:[],displayName:"RadioGroup"};const Q=G.object({plan:G.enum(["starter","pro","enterprise"],{required_error:"You need to select a plan"})}),Pe=()=>{var t;const e=ne(),o=de({resolver:A(Q),defaultValues:{plan:void 0},fetcher:e,submitConfig:{action:"/",method:"post"}});return r.jsx(ce,{...o,children:r.jsxs(le,{onSubmit:o.handleSubmit,children:[r.jsxs(k,{name:"plan",label:"Select a plan",description:"Choose the plan that best fits your needs.",className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(b,{value:"starter",id:"starter"}),r.jsx("label",{htmlFor:"starter",children:"Starter"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(b,{value:"pro",id:"pro"}),r.jsx("label",{htmlFor:"pro",children:"Pro"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(b,{value:"enterprise",id:"enterprise"}),r.jsx("label",{htmlFor:"enterprise",children:"Enterprise"})]})]}),r.jsx(ue,{type:"submit",className:"mt-4",children:"Submit"}),((t=e.data)==null?void 0:t.message)&&r.jsx("p",{className:"mt-2 text-green-600",children:e.data.message})]})})},_e=async e=>{const{errors:o,data:t,receivedValues:i}=await pe(e,A(Q));return o?{errors:o,defaultValues:i}:{message:"Plan selected successfully"}},$e={title:"RemixHookForm/RadioGroup",component:k,parameters:{layout:"centered"},tags:["autodocs"],decorators:[ie({root:{Component:Pe,action:async({request:e})=>_e(e)}})]},Ee=async({canvas:e})=>{const o=e.getByRole("button",{name:"Submit"});await C.click(o),await w(e.findByText("You need to select a plan")).resolves.toBeInTheDocument()},Te=async({canvas:e})=>{const o=e.getByLabelText("Pro");await C.click(o),w(o).toBeChecked()},De=async({canvas:e})=>{const o=e.getByRole("button",{name:"Submit"});await C.click(o),await w(e.findByText("Plan selected successfully")).resolves.toBeInTheDocument()},y={play:async e=>{await Ee(e),await Te(e),await De(e)}};var P,_,E;y.parameters={...y.parameters,docs:{...(P=y.parameters)==null?void 0:P.docs,source:{originalSource:`{
  play: async storyContext => {
    await testInvalidSubmission(storyContext);
    await testRadioGroupSelection(storyContext);
    await testSubmission(storyContext);
  }
}`,...(E=(_=y.parameters)==null?void 0:_.docs)==null?void 0:E.source}}};const We=["Tests"];export{y as Tests,We as __namedExportsOrder,$e as default};
