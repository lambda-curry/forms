import{c as $}from"./createLucideIcon-CkelgiAd.js";import{e as R,r as i}from"./index-Wp2u197Z.js";import{c as G,a as J,e as Q,b as T}from"./index-BFTZjNjp.js";import{d as h,S as O,P as L}from"./remix-stub-UXp-yz1T.js";import{j as m}from"./jsx-runtime-CQsLhzk5.js";import{u as W}from"./index-s2cgieDi.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=$("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function X(e){const o=e+"CollectionProvider",[a,n]=G(o),[w,I]=a(o,{collectionRef:{current:null},itemMap:new Map}),b=f=>{const{scope:t,children:s}=f,d=R.useRef(null),r=R.useRef(new Map).current;return m.jsx(w,{scope:t,itemMap:r,collectionRef:d,children:s})};b.displayName=o;const g=e+"CollectionSlot",p=R.forwardRef((f,t)=>{const{scope:s,children:d}=f,r=I(g,s),c=h(t,r.collectionRef);return m.jsx(O,{ref:c,children:d})});p.displayName=g;const u=e+"CollectionItemSlot",E="data-radix-collection-item",F=R.forwardRef((f,t)=>{const{scope:s,children:d,...r}=f,c=R.useRef(null),x=h(t,c),S=I(u,s);return R.useEffect(()=>(S.itemMap.set(c,{ref:c,...r}),()=>void S.itemMap.delete(c))),m.jsx(O,{[E]:"",ref:x,children:d})});F.displayName=u;function v(f){const t=I(e+"CollectionConsumer",f);return R.useCallback(()=>{const d=t.collectionRef.current;if(!d)return[];const r=Array.from(d.querySelectorAll(`[${E}]`));return Array.from(t.itemMap.values()).sort((S,A)=>r.indexOf(S.ref.current)-r.indexOf(A.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:b,Slot:p,ItemSlot:F},v,n]}var Z=i.createContext(void 0);function ee(e){const o=i.useContext(Z);return e||o||"ltr"}var M="rovingFocusGroup.onEntryFocus",te={bubbles:!1,cancelable:!0},y="RovingFocusGroup",[N,j,oe]=X(y),[re,be]=G(y,[oe]),[ne,ce]=re(y),k=i.forwardRef((e,o)=>m.jsx(N.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(N.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(se,{...e,ref:o})})}));k.displayName=y;var se=i.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:w=!1,dir:I,currentTabStopId:b,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:p,onEntryFocus:u,preventScrollOnEntryFocus:E=!1,...F}=e,v=i.useRef(null),f=h(o,v),t=ee(I),[s=null,d]=J({prop:b,defaultProp:g,onChange:p}),[r,c]=i.useState(!1),x=Q(u),S=j(a),A=i.useRef(!1),[V,P]=i.useState(0);return i.useEffect(()=>{const l=v.current;if(l)return l.addEventListener(M,x),()=>l.removeEventListener(M,x)},[x]),m.jsx(ne,{scope:a,orientation:n,dir:t,loop:w,currentTabStopId:s,onItemFocus:i.useCallback(l=>d(l),[d]),onItemShiftTab:i.useCallback(()=>c(!0),[]),onFocusableItemAdd:i.useCallback(()=>P(l=>l+1),[]),onFocusableItemRemove:i.useCallback(()=>P(l=>l-1),[]),children:m.jsx(L.div,{tabIndex:r||V===0?-1:0,"data-orientation":n,...F,ref:f,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{A.current=!0}),onFocus:T(e.onFocus,l=>{const Y=!A.current;if(l.target===l.currentTarget&&Y&&!r){const D=new CustomEvent(M,te);if(l.currentTarget.dispatchEvent(D),!D.defaultPrevented){const _=S().filter(C=>C.focusable),H=_.find(C=>C.active),q=_.find(C=>C.id===s),z=[H,q,..._].filter(Boolean).map(C=>C.ref.current);B(z,E)}}A.current=!1}),onBlur:T(e.onBlur,()=>c(!1))})})}),K="RovingFocusGroupItem",U=i.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:w=!1,tabStopId:I,...b}=e,g=W(),p=I||g,u=ce(K,a),E=u.currentTabStopId===p,F=j(a),{onFocusableItemAdd:v,onFocusableItemRemove:f}=u;return i.useEffect(()=>{if(n)return v(),()=>f()},[n,v,f]),m.jsx(N.ItemSlot,{scope:a,id:p,focusable:n,active:w,children:m.jsx(L.span,{tabIndex:E?0:-1,"data-orientation":u.orientation,...b,ref:o,onMouseDown:T(e.onMouseDown,t=>{n?u.onItemFocus(p):t.preventDefault()}),onFocus:T(e.onFocus,()=>u.onItemFocus(p)),onKeyDown:T(e.onKeyDown,t=>{if(t.key==="Tab"&&t.shiftKey){u.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const s=ue(t,u.orientation,u.dir);if(s!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)return;t.preventDefault();let r=F().filter(c=>c.focusable).map(c=>c.ref.current);if(s==="last")r.reverse();else if(s==="prev"||s==="next"){s==="prev"&&r.reverse();const c=r.indexOf(t.currentTarget);r=u.loop?le(r,c+1):r.slice(c+1)}setTimeout(()=>B(r))}})})})});U.displayName=K;var ie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,o,a){const n=ae(e.key,a);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ie[n]}function B(e,o=!1){const a=document.activeElement;for(const n of e)if(n===a||(n.focus({preventScroll:o}),document.activeElement!==a))return}function le(e,o){return e.map((a,n)=>e[(o+n)%e.length])}var ge=k,Ee=U;export{Re as C,Ee as I,ge as R,X as a,be as c,ee as u};
