{
  "name": "controlled-currency-input",
  "type": "registry:ui",
  "description": "A currency-input component with react-hook-form integration",
  "dependencies": [
    "@medusajs/ui",
    "react-hook-form",
    "@hookform/error-message"
  ],
  "files": [
    {
      "name": "controlled-currency-input.tsx",
      "content": "\"use client\"\n\nimport type { ComponentProps } from 'react'\nimport {\n  Controller,\n  type ControllerProps,\n  type FieldValues,\n  type Path,\n  type RegisterOptions,\n  useFormContext,\n} from 'react-hook-form'\nimport { CurrencyInput } from '@medusajs/ui'\nimport { ErrorMessage } from '@hookform/error-message'\n\nexport type ControlledCurrencyInputProps<T extends FieldValues> = Omit<ControllerProps, 'render'> & {\n  name: Path<T>\n  rules?: Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>\n  label?: string\n  placeholder?: string\n  required?: boolean\n  disabled?: boolean\n  className?: string\n  currency?: string\n  onChange?: (value: number | undefined) => void\n} & ComponentProps<typeof CurrencyInput>\n\n/**\n * A controlled currency input component that integrates with react-hook-form.\n * \n * @example\n * ```tsx\n * import { useForm, FormProvider } from 'react-hook-form'\n * import { ControlledCurrencyInput } from '@/components/ui/controlled-currency-input'\n * \n * function MyForm() {\n *   const methods = useForm()\n *   \n *   return (\n *     <FormProvider {...methods}>\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <ControlledCurrencyInput\n *           name=\"price\"\n *           label=\"Price\"\n *           placeholder=\"Enter price\"\n *           currency=\"USD\"\n *           rules={{ required: 'Price is required' }}\n *         />\n *       </form>\n *     </FormProvider>\n *   )\n * }\n * ```\n */\nexport const ControlledCurrencyInput = <T extends FieldValues>({\n  name,\n  rules,\n  onChange,\n  label,\n  required,\n  ...props\n}: ControlledCurrencyInputProps<T>) => {\n  const {\n    control,\n    formState: { errors },\n  } = useFormContext<T>()\n\n  return (\n    <div className=\"space-y-2\">\n      {label && (\n        <label htmlFor={name} className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <Controller\n        control={control}\n        name={name}\n        rules={rules as Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>}\n        render={({ field }) => (\n          <CurrencyInput\n            {...field}\n            {...props}\n            id={name}\n            value={field.value}\n            onValueChange={(value) => {\n              if (onChange) {\n                onChange(value)\n              }\n              field.onChange(value)\n            }}\n          />\n        )}\n      />\n      <ErrorMessage\n        errors={errors}\n        name={name}\n        render={({ message }) => (\n          <p className=\"text-sm text-red-500\">{message}</p>\n        )}\n      />\n    </div>\n  )\n}\n\n"
    }
  ]
}