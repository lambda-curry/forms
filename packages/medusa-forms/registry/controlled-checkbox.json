{
  "name": "controlled-checkbox",
  "type": "registry:ui",
  "description": "A checkbox component with react-hook-form integration",
  "dependencies": [
    "@medusajs/ui",
    "react-hook-form",
    "@hookform/error-message"
  ],
  "files": [
    {
      "name": "controlled-checkbox.tsx",
      "content": "\"use client\"\n\nimport type { ComponentProps } from 'react'\nimport {\n  Controller,\n  type ControllerProps,\n  type FieldValues,\n  type Path,\n  type RegisterOptions,\n  useFormContext,\n} from 'react-hook-form'\nimport { Checkbox, Label } from '@medusajs/ui'\nimport { ErrorMessage } from '@hookform/error-message'\n\nexport type ControlledCheckboxProps<T extends FieldValues> = Omit<ControllerProps, 'render'> & {\n  name: Path<T>\n  rules?: Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>\n  label?: string\n  description?: string\n  required?: boolean\n  disabled?: boolean\n  className?: string\n  onChange?: (checked: boolean) => void\n} & ComponentProps<typeof Checkbox>\n\n/**\n * A controlled checkbox component that integrates with react-hook-form.\n * \n * @example\n * ```tsx\n * import { useForm, FormProvider } from 'react-hook-form'\n * import { ControlledCheckbox } from '@/components/ui/controlled-checkbox'\n * \n * function MyForm() {\n *   const methods = useForm()\n *   \n *   return (\n *     <FormProvider {...methods}>\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <ControlledCheckbox\n *           name=\"terms\"\n *           label=\"I agree to the terms and conditions\"\n *           rules={{ required: 'You must agree to the terms' }}\n *         />\n *       </form>\n *     </FormProvider>\n *   )\n * }\n * ```\n */\nexport const ControlledCheckbox = <T extends FieldValues>({\n  name,\n  rules,\n  onChange,\n  label,\n  description,\n  required,\n  ...props\n}: ControlledCheckboxProps<T>) => {\n  const {\n    control,\n    formState: { errors },\n  } = useFormContext<T>()\n\n  return (\n    <div className=\"space-y-2\">\n      <Controller\n        control={control}\n        name={name}\n        rules={rules as Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>}\n        render={({ field }) => (\n          <div className=\"flex items-start space-x-2\">\n            <Checkbox\n              {...field}\n              {...props}\n              id={name}\n              checked={field.value}\n              onCheckedChange={(checked) => {\n                const booleanValue = checked === true\n                if (onChange) {\n                  onChange(booleanValue)\n                }\n                field.onChange(booleanValue)\n              }}\n            />\n            <div className=\"grid gap-1.5 leading-none\">\n              {label && (\n                <Label htmlFor={name}>\n                  {label}\n                  {required && <span className=\"text-red-500 ml-1\">*</span>}\n                </Label>\n              )}\n              {description && (\n                <p className=\"text-xs text-muted-foreground\">\n                  {description}\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      />\n      <ErrorMessage\n        errors={errors}\n        name={name}\n        render={({ message }) => (\n          <p className=\"text-sm text-red-500\">{message}</p>\n        )}\n      />\n    </div>\n  )\n}\n\n"
    }
  ]
}