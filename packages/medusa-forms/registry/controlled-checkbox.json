{
  "name": "controlled-checkbox",
  "type": "registry:ui",
  "description": "A checkbox component with react-hook-form integration",
  "dependencies": [
    "react-hook-form"
  ],
  "registryDependencies": [
    "field-checkbox"
  ],
  "files": [
    {
      "name": "controlled-checkbox.tsx",
      "content": "import {\n  Controller,\n  type ControllerProps,\n  type FieldValues,\n  type Path,\n  type RegisterOptions,\n  useFormContext,\n} from 'react-hook-form';\nimport { FieldCheckbox, type FieldCheckboxProps } from '../ui/FieldCheckbox';\n\nexport type ControlledCheckboxProps<T extends FieldValues> = Omit<FieldCheckboxProps, 'name'> &\n  Omit<ControllerProps, 'render'> & {\n    name: Path<T>;\n    rules?: Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>;\n  };\n\nexport const ControlledCheckbox = <T extends FieldValues>({\n  name,\n  rules,\n  onChange,\n  ...props\n}: ControlledCheckboxProps<T>) => {\n  const {\n    control,\n    formState: { errors },\n  } = useFormContext<T>();\n\n  return (\n    <Controller\n      control={control}\n      name={name}\n      rules={rules as Omit<RegisterOptions<T, Path<T>>, 'disabled' | 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>}\n      render={({ field }) => (\n        <FieldCheckbox\n          {...field}\n          {...props}\n          formErrors={errors}\n          checked={field.value}\n          onChange={(checked) => {\n            if (onChange) onChange(checked);\n            field.onChange(checked);\n          }}\n        />\n      )}\n    />\n  );\n};\n\n"
    }
  ]
}